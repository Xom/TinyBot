#ifndef TINYBOT_CONSTANTS_H
#define TINYBOT_CONSTANTS_H

#include <limits>

#include "pcg/pcg_random.h"

namespace tinybot {

static constexpr int kBatchSize = 256;
static constexpr int kConcurrentInferences = 1;  // 2022-08-15: current code doesn't work for kConcurrentInferences > 1 because multiple execution contexts require multiple optimization profiles
static constexpr int kConcurrentGames = kBatchSize == 1 ? 1 : (kBatchSize * 2);
static constexpr float kScoreDenom = 128.0f;
static constexpr int kStuckPenaltyInt = 100;
static constexpr double kStuckPenaltyDouble = static_cast<double>(kStuckPenaltyInt) / kScoreDenom;
static constexpr double kPositiveInfinity = std::numeric_limits<double>::infinity();  // gcc only?
static constexpr double kNegativeInfinity = -kPositiveInfinity;
static constexpr double kPcg32MaxDouble = static_cast<double>(pcg32::max());
static constexpr double kNoiseTotal = 10.83;
static constexpr double kCoefForcedPlayout = 1.41421356;  // sqrt(2)
static constexpr int kRowsPerTurn = 1;

static constexpr int kSearchThresholds[12]{64, 64, 0, 0,
                                           64, 64, 0, 0,
                                           64, 64, 0, 0};  // phases c and d use constants for b
static constexpr double kCoefsExplore[12]{20.0, 18.0, 0, 0,
                                          20.0, 18.0, 0, 0,
                                          20.0, 16.0, 0, 0};  // proportional to game score stdev / branching factor
enum BoardPhase { kPhase0a,
                  kPhase0b,
                  kPhase0c,
                  kPhase0d,
                  kPhase1a,
                  kPhase1b,
                  kPhase1c,
                  kPhase1d,
                  kPhase2a,
                  kPhase2b,
                  kPhase2c,
                  kPhase2d };

enum TensorId { kInputLocal,
                kInputGlobal,
                kOutputPolicy,
                kOutputValue,
                kOutputLand };
static constexpr int kNumTensors = 5;
static constexpr int kTensorLengths[kNumTensors]{1701, 11, 649, 8, 81};
static constexpr int kTensorSizes[kNumTensors]{
    kTensorLengths[0] * sizeof(float),
    kTensorLengths[1] * sizeof(float),
    kTensorLengths[2] * sizeof(float),
    kTensorLengths[3] * sizeof(float),
    kTensorLengths[4] * sizeof(float)};
static constexpr int kBufferLengths[kNumTensors]{
    kTensorLengths[0] * kBatchSize,
    kTensorLengths[1] * kBatchSize,
    kTensorLengths[2] * kBatchSize,
    kTensorLengths[3] * kBatchSize,
    kTensorLengths[4] * kBatchSize};
static constexpr int kBufferSizes[kNumTensors]{
    kBufferLengths[0] * sizeof(float),
    kBufferLengths[1] * sizeof(float),
    kBufferLengths[2] * sizeof(float),
    kBufferLengths[3] * sizeof(float),
    kBufferLengths[4] * sizeof(float)};
extern const char* kTensorNames[kNumTensors];

enum Tile { kBlank,
            kForest,
            kHouse,
            kSand,
            kWave,
            kMountain,
            kChurch,
            kBoat };
enum Zone { kZoneCol9,
            kZoneCol8,
            kZoneCol7,
            kZoneCol6,
            kZoneCol5,
            kZoneCol4,
            kZoneCol3,
            kZoneCol2,
            kZoneCol1,
            kZoneRowA,
            kZoneRowB,
            kZoneRowC,
            kZoneRowD,
            kZoneRowE,
            kZoneRowF,
            kZoneRowG,
            kZoneRowH,
            kZoneRowI,
            kZoneNonQ,
            kZoneNonW,
            kZoneNonE,
            kZoneNonA,
            kZoneNonS,
            kZoneNonD,
            kZoneNonZ,
            kZoneNonX,
            kZoneNonC };
static constexpr int kZoneZ[27][9] = {
    {0, 1, 2, 3, 4, 5, 6, 7, 8},
    {9, 10, 11, 12, 13, 14, 15, 16, 17},
    {18, 19, 20, 21, 22, 23, 24, 25, 26},
    {27, 28, 29, 30, 31, 32, 33, 34, 35},
    {36, 37, 38, 39, 40, 41, 42, 43, 44},
    {45, 46, 47, 48, 49, 50, 51, 52, 53},
    {54, 55, 56, 57, 58, 59, 60, 61, 62},
    {63, 64, 65, 66, 67, 68, 69, 70, 71},
    {72, 73, 74, 75, 76, 77, 78, 79, 80},
    {0, 9, 18, 27, 36, 45, 54, 63, 72},
    {1, 10, 19, 28, 37, 46, 55, 64, 73},
    {2, 11, 20, 29, 38, 47, 56, 65, 74},
    {3, 12, 21, 30, 39, 48, 57, 66, 75},
    {4, 13, 22, 31, 40, 49, 58, 67, 76},
    {5, 14, 23, 32, 41, 50, 59, 68, 77},
    {6, 15, 24, 33, 42, 51, 60, 69, 78},
    {7, 16, 25, 34, 43, 52, 61, 70, 79},
    {8, 17, 26, 35, 44, 53, 62, 71, 80},
    {0, 1, 2, 9, 10, 11, 18, 19, 20},
    {3, 4, 5, 12, 13, 14, 21, 22, 23},
    {6, 7, 8, 15, 16, 17, 24, 25, 26},
    {27, 28, 29, 36, 37, 38, 45, 46, 47},
    {30, 31, 32, 39, 40, 41, 48, 49, 50},
    {33, 34, 35, 42, 43, 44, 51, 52, 53},
    {54, 55, 56, 63, 64, 65, 72, 73, 74},
    {57, 58, 59, 66, 67, 68, 75, 76, 77},
    {60, 61, 62, 69, 70, 71, 78, 79, 80}};
static constexpr char kTileChars[8]{'.', 'f', 'h', 's', 'w', 'M', 'C', 'B'};
static constexpr char kZoneChars[27]{'9', '8', '7', '6', '5', '4', '3', '2', '1', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'Q', 'W', 'E', 'A', 'S', 'D', 'Z', 'X', 'C'};
static constexpr int kMovePass = kTensorLengths[kOutputPolicy] - 1;
static constexpr float kInkInitial = 1.0f / 12.0f;
static constexpr float kInkMinimal = 4.0f / 24.0f;
static constexpr float kDeckDenom[8]{54.0, 13.0, 10.0, 9.0, 9.0, 5.0, 5.0, 3.0};

enum DrawMode { kDrawModeInitial,
                kDrawModeUL,
                kDrawModeUR,
                kDrawModeLL,
                kDrawModeLR,
                kDrawModeW,
                kDrawModeE,
                kDrawModeN,
                kDrawModeS,
                kDrawModeWN,
                kDrawModeWS,
                kDrawModeEN,
                kDrawModeES,
                kDrawModeNW,
                kDrawModeNE,
                kDrawModeSW,
                kDrawModeSE };
static constexpr float kDrawPriority[17][81] = {
    {163.0f / 164.0f, 159.0f / 164.0f, 151.0f / 164.0f, 143.0f / 164.0f, 135.0f / 164.0f, 143.0f / 164.0f, 151.0f / 164.0f, 159.0f / 164.0f, 163.0f / 164.0f, 159.0f / 164.0f, 131.0f / 164.0f, 127.0f / 164.0f, 119.0f / 164.0f, 111.0f / 164.0f, 119.0f / 164.0f, 127.0f / 164.0f, 131.0f / 164.0f, 159.0f / 164.0f, 151.0f / 164.0f, 127.0f / 164.0f, 107.0f / 164.0f, 103.0f / 164.0f, 95.0f / 164.0f, 103.0f / 164.0f, 107.0f / 164.0f, 127.0f / 164.0f, 151.0f / 164.0f, 143.0f / 164.0f, 119.0f / 164.0f, 103.0f / 164.0f, 91.0f / 164.0f, 87.0f / 164.0f, 91.0f / 164.0f, 103.0f / 164.0f, 119.0f / 164.0f, 143.0f / 164.0f, 135.0f / 164.0f, 111.0f / 164.0f, 95.0f / 164.0f, 87.0f / 164.0f, 83.0f / 164.0f, 87.0f / 164.0f, 95.0f / 164.0f, 111.0f / 164.0f, 135.0f / 164.0f, 143.0f / 164.0f, 119.0f / 164.0f, 103.0f / 164.0f, 91.0f / 164.0f, 87.0f / 164.0f, 91.0f / 164.0f, 103.0f / 164.0f, 119.0f / 164.0f, 143.0f / 164.0f, 151.0f / 164.0f, 127.0f / 164.0f, 107.0f / 164.0f, 103.0f / 164.0f, 95.0f / 164.0f, 103.0f / 164.0f, 107.0f / 164.0f, 127.0f / 164.0f, 151.0f / 164.0f, 159.0f / 164.0f, 131.0f / 164.0f, 127.0f / 164.0f, 119.0f / 164.0f, 111.0f / 164.0f, 119.0f / 164.0f, 127.0f / 164.0f, 131.0f / 164.0f, 159.0f / 164.0f, 163.0f / 164.0f, 159.0f / 164.0f, 151.0f / 164.0f, 143.0f / 164.0f, 135.0f / 164.0f, 143.0f / 164.0f, 151.0f / 164.0f, 159.0f / 164.0f, 163.0f / 164.0f},
    {163.0f / 164.0f, 162.0f / 164.0f, 160.0f / 164.0f, 158.0f / 164.0f, 156.0f / 164.0f, 154.0f / 164.0f, 152.0f / 164.0f, 150.0f / 164.0f, 148.0f / 164.0f, 162.0f / 164.0f, 146.0f / 164.0f, 145.0f / 164.0f, 143.0f / 164.0f, 141.0f / 164.0f, 139.0f / 164.0f, 137.0f / 164.0f, 135.0f / 164.0f, 133.0f / 164.0f, 160.0f / 164.0f, 145.0f / 164.0f, 131.0f / 164.0f, 130.0f / 164.0f, 128.0f / 164.0f, 126.0f / 164.0f, 124.0f / 164.0f, 122.0f / 164.0f, 120.0f / 164.0f, 158.0f / 164.0f, 143.0f / 164.0f, 130.0f / 164.0f, 118.0f / 164.0f, 117.0f / 164.0f, 115.0f / 164.0f, 113.0f / 164.0f, 111.0f / 164.0f, 109.0f / 164.0f, 156.0f / 164.0f, 141.0f / 164.0f, 128.0f / 164.0f, 117.0f / 164.0f, 107.0f / 164.0f, 106.0f / 164.0f, 104.0f / 164.0f, 102.0f / 164.0f, 100.0f / 164.0f, 154.0f / 164.0f, 139.0f / 164.0f, 126.0f / 164.0f, 115.0f / 164.0f, 106.0f / 164.0f, 98.0f / 164.0f, 97.0f / 164.0f, 95.0f / 164.0f, 93.0f / 164.0f, 152.0f / 164.0f, 137.0f / 164.0f, 124.0f / 164.0f, 113.0f / 164.0f, 104.0f / 164.0f, 97.0f / 164.0f, 91.0f / 164.0f, 90.0f / 164.0f, 88.0f / 164.0f, 150.0f / 164.0f, 135.0f / 164.0f, 122.0f / 164.0f, 111.0f / 164.0f, 102.0f / 164.0f, 95.0f / 164.0f, 90.0f / 164.0f, 86.0f / 164.0f, 85.0f / 164.0f, 148.0f / 164.0f, 133.0f / 164.0f, 120.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 93.0f / 164.0f, 88.0f / 164.0f, 85.0f / 164.0f, 83.0f / 164.0f},
    {148.0f / 164.0f, 150.0f / 164.0f, 152.0f / 164.0f, 154.0f / 164.0f, 156.0f / 164.0f, 158.0f / 164.0f, 160.0f / 164.0f, 162.0f / 164.0f, 163.0f / 164.0f, 133.0f / 164.0f, 135.0f / 164.0f, 137.0f / 164.0f, 139.0f / 164.0f, 141.0f / 164.0f, 143.0f / 164.0f, 145.0f / 164.0f, 146.0f / 164.0f, 162.0f / 164.0f, 120.0f / 164.0f, 122.0f / 164.0f, 124.0f / 164.0f, 126.0f / 164.0f, 128.0f / 164.0f, 130.0f / 164.0f, 131.0f / 164.0f, 145.0f / 164.0f, 160.0f / 164.0f, 109.0f / 164.0f, 111.0f / 164.0f, 113.0f / 164.0f, 115.0f / 164.0f, 117.0f / 164.0f, 118.0f / 164.0f, 130.0f / 164.0f, 143.0f / 164.0f, 158.0f / 164.0f, 100.0f / 164.0f, 102.0f / 164.0f, 104.0f / 164.0f, 106.0f / 164.0f, 107.0f / 164.0f, 117.0f / 164.0f, 128.0f / 164.0f, 141.0f / 164.0f, 156.0f / 164.0f, 93.0f / 164.0f, 95.0f / 164.0f, 97.0f / 164.0f, 98.0f / 164.0f, 106.0f / 164.0f, 115.0f / 164.0f, 126.0f / 164.0f, 139.0f / 164.0f, 154.0f / 164.0f, 88.0f / 164.0f, 90.0f / 164.0f, 91.0f / 164.0f, 97.0f / 164.0f, 104.0f / 164.0f, 113.0f / 164.0f, 124.0f / 164.0f, 137.0f / 164.0f, 152.0f / 164.0f, 85.0f / 164.0f, 86.0f / 164.0f, 90.0f / 164.0f, 95.0f / 164.0f, 102.0f / 164.0f, 111.0f / 164.0f, 122.0f / 164.0f, 135.0f / 164.0f, 150.0f / 164.0f, 83.0f / 164.0f, 85.0f / 164.0f, 88.0f / 164.0f, 93.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 120.0f / 164.0f, 133.0f / 164.0f, 148.0f / 164.0f},
    {148.0f / 164.0f, 133.0f / 164.0f, 120.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 93.0f / 164.0f, 88.0f / 164.0f, 85.0f / 164.0f, 83.0f / 164.0f, 150.0f / 164.0f, 135.0f / 164.0f, 122.0f / 164.0f, 111.0f / 164.0f, 102.0f / 164.0f, 95.0f / 164.0f, 90.0f / 164.0f, 86.0f / 164.0f, 85.0f / 164.0f, 152.0f / 164.0f, 137.0f / 164.0f, 124.0f / 164.0f, 113.0f / 164.0f, 104.0f / 164.0f, 97.0f / 164.0f, 91.0f / 164.0f, 90.0f / 164.0f, 88.0f / 164.0f, 154.0f / 164.0f, 139.0f / 164.0f, 126.0f / 164.0f, 115.0f / 164.0f, 106.0f / 164.0f, 98.0f / 164.0f, 97.0f / 164.0f, 95.0f / 164.0f, 93.0f / 164.0f, 156.0f / 164.0f, 141.0f / 164.0f, 128.0f / 164.0f, 117.0f / 164.0f, 107.0f / 164.0f, 106.0f / 164.0f, 104.0f / 164.0f, 102.0f / 164.0f, 100.0f / 164.0f, 158.0f / 164.0f, 143.0f / 164.0f, 130.0f / 164.0f, 118.0f / 164.0f, 117.0f / 164.0f, 115.0f / 164.0f, 113.0f / 164.0f, 111.0f / 164.0f, 109.0f / 164.0f, 160.0f / 164.0f, 145.0f / 164.0f, 131.0f / 164.0f, 130.0f / 164.0f, 128.0f / 164.0f, 126.0f / 164.0f, 124.0f / 164.0f, 122.0f / 164.0f, 120.0f / 164.0f, 162.0f / 164.0f, 146.0f / 164.0f, 145.0f / 164.0f, 143.0f / 164.0f, 141.0f / 164.0f, 139.0f / 164.0f, 137.0f / 164.0f, 135.0f / 164.0f, 133.0f / 164.0f, 163.0f / 164.0f, 162.0f / 164.0f, 160.0f / 164.0f, 158.0f / 164.0f, 156.0f / 164.0f, 154.0f / 164.0f, 152.0f / 164.0f, 150.0f / 164.0f, 148.0f / 164.0f},
    {83.0f / 164.0f, 85.0f / 164.0f, 88.0f / 164.0f, 93.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 120.0f / 164.0f, 133.0f / 164.0f, 148.0f / 164.0f, 85.0f / 164.0f, 86.0f / 164.0f, 90.0f / 164.0f, 95.0f / 164.0f, 102.0f / 164.0f, 111.0f / 164.0f, 122.0f / 164.0f, 135.0f / 164.0f, 150.0f / 164.0f, 88.0f / 164.0f, 90.0f / 164.0f, 91.0f / 164.0f, 97.0f / 164.0f, 104.0f / 164.0f, 113.0f / 164.0f, 124.0f / 164.0f, 137.0f / 164.0f, 152.0f / 164.0f, 93.0f / 164.0f, 95.0f / 164.0f, 97.0f / 164.0f, 98.0f / 164.0f, 106.0f / 164.0f, 115.0f / 164.0f, 126.0f / 164.0f, 139.0f / 164.0f, 154.0f / 164.0f, 100.0f / 164.0f, 102.0f / 164.0f, 104.0f / 164.0f, 106.0f / 164.0f, 107.0f / 164.0f, 117.0f / 164.0f, 128.0f / 164.0f, 141.0f / 164.0f, 156.0f / 164.0f, 109.0f / 164.0f, 111.0f / 164.0f, 113.0f / 164.0f, 115.0f / 164.0f, 117.0f / 164.0f, 118.0f / 164.0f, 130.0f / 164.0f, 143.0f / 164.0f, 158.0f / 164.0f, 120.0f / 164.0f, 122.0f / 164.0f, 124.0f / 164.0f, 126.0f / 164.0f, 128.0f / 164.0f, 130.0f / 164.0f, 131.0f / 164.0f, 145.0f / 164.0f, 160.0f / 164.0f, 133.0f / 164.0f, 135.0f / 164.0f, 137.0f / 164.0f, 139.0f / 164.0f, 141.0f / 164.0f, 143.0f / 164.0f, 145.0f / 164.0f, 146.0f / 164.0f, 162.0f / 164.0f, 148.0f / 164.0f, 150.0f / 164.0f, 152.0f / 164.0f, 154.0f / 164.0f, 156.0f / 164.0f, 158.0f / 164.0f, 160.0f / 164.0f, 162.0f / 164.0f, 163.0f / 164.0f},
    {163.0f / 164.0f, 154.0f / 164.0f, 145.0f / 164.0f, 136.0f / 164.0f, 127.0f / 164.0f, 118.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 91.0f / 164.0f, 161.0f / 164.0f, 152.0f / 164.0f, 143.0f / 164.0f, 134.0f / 164.0f, 125.0f / 164.0f, 116.0f / 164.0f, 107.0f / 164.0f, 98.0f / 164.0f, 89.0f / 164.0f, 159.0f / 164.0f, 150.0f / 164.0f, 141.0f / 164.0f, 132.0f / 164.0f, 123.0f / 164.0f, 114.0f / 164.0f, 105.0f / 164.0f, 96.0f / 164.0f, 87.0f / 164.0f, 157.0f / 164.0f, 148.0f / 164.0f, 139.0f / 164.0f, 130.0f / 164.0f, 121.0f / 164.0f, 112.0f / 164.0f, 103.0f / 164.0f, 94.0f / 164.0f, 85.0f / 164.0f, 155.0f / 164.0f, 146.0f / 164.0f, 137.0f / 164.0f, 128.0f / 164.0f, 119.0f / 164.0f, 110.0f / 164.0f, 101.0f / 164.0f, 92.0f / 164.0f, 83.0f / 164.0f, 157.0f / 164.0f, 148.0f / 164.0f, 139.0f / 164.0f, 130.0f / 164.0f, 121.0f / 164.0f, 112.0f / 164.0f, 103.0f / 164.0f, 94.0f / 164.0f, 85.0f / 164.0f, 159.0f / 164.0f, 150.0f / 164.0f, 141.0f / 164.0f, 132.0f / 164.0f, 123.0f / 164.0f, 114.0f / 164.0f, 105.0f / 164.0f, 96.0f / 164.0f, 87.0f / 164.0f, 161.0f / 164.0f, 152.0f / 164.0f, 143.0f / 164.0f, 134.0f / 164.0f, 125.0f / 164.0f, 116.0f / 164.0f, 107.0f / 164.0f, 98.0f / 164.0f, 89.0f / 164.0f, 163.0f / 164.0f, 154.0f / 164.0f, 145.0f / 164.0f, 136.0f / 164.0f, 127.0f / 164.0f, 118.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 91.0f / 164.0f},
    {91.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 118.0f / 164.0f, 127.0f / 164.0f, 136.0f / 164.0f, 145.0f / 164.0f, 154.0f / 164.0f, 163.0f / 164.0f, 89.0f / 164.0f, 98.0f / 164.0f, 107.0f / 164.0f, 116.0f / 164.0f, 125.0f / 164.0f, 134.0f / 164.0f, 143.0f / 164.0f, 152.0f / 164.0f, 161.0f / 164.0f, 87.0f / 164.0f, 96.0f / 164.0f, 105.0f / 164.0f, 114.0f / 164.0f, 123.0f / 164.0f, 132.0f / 164.0f, 141.0f / 164.0f, 150.0f / 164.0f, 159.0f / 164.0f, 85.0f / 164.0f, 94.0f / 164.0f, 103.0f / 164.0f, 112.0f / 164.0f, 121.0f / 164.0f, 130.0f / 164.0f, 139.0f / 164.0f, 148.0f / 164.0f, 157.0f / 164.0f, 83.0f / 164.0f, 92.0f / 164.0f, 101.0f / 164.0f, 110.0f / 164.0f, 119.0f / 164.0f, 128.0f / 164.0f, 137.0f / 164.0f, 146.0f / 164.0f, 155.0f / 164.0f, 85.0f / 164.0f, 94.0f / 164.0f, 103.0f / 164.0f, 112.0f / 164.0f, 121.0f / 164.0f, 130.0f / 164.0f, 139.0f / 164.0f, 148.0f / 164.0f, 157.0f / 164.0f, 87.0f / 164.0f, 96.0f / 164.0f, 105.0f / 164.0f, 114.0f / 164.0f, 123.0f / 164.0f, 132.0f / 164.0f, 141.0f / 164.0f, 150.0f / 164.0f, 159.0f / 164.0f, 89.0f / 164.0f, 98.0f / 164.0f, 107.0f / 164.0f, 116.0f / 164.0f, 125.0f / 164.0f, 134.0f / 164.0f, 143.0f / 164.0f, 152.0f / 164.0f, 161.0f / 164.0f, 91.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 118.0f / 164.0f, 127.0f / 164.0f, 136.0f / 164.0f, 145.0f / 164.0f, 154.0f / 164.0f, 163.0f / 164.0f},
    {163.0f / 164.0f, 161.0f / 164.0f, 159.0f / 164.0f, 157.0f / 164.0f, 155.0f / 164.0f, 157.0f / 164.0f, 159.0f / 164.0f, 161.0f / 164.0f, 163.0f / 164.0f, 154.0f / 164.0f, 152.0f / 164.0f, 150.0f / 164.0f, 148.0f / 164.0f, 146.0f / 164.0f, 148.0f / 164.0f, 150.0f / 164.0f, 152.0f / 164.0f, 154.0f / 164.0f, 145.0f / 164.0f, 143.0f / 164.0f, 141.0f / 164.0f, 139.0f / 164.0f, 137.0f / 164.0f, 139.0f / 164.0f, 141.0f / 164.0f, 143.0f / 164.0f, 145.0f / 164.0f, 136.0f / 164.0f, 134.0f / 164.0f, 132.0f / 164.0f, 130.0f / 164.0f, 128.0f / 164.0f, 130.0f / 164.0f, 132.0f / 164.0f, 134.0f / 164.0f, 136.0f / 164.0f, 127.0f / 164.0f, 125.0f / 164.0f, 123.0f / 164.0f, 121.0f / 164.0f, 119.0f / 164.0f, 121.0f / 164.0f, 123.0f / 164.0f, 125.0f / 164.0f, 127.0f / 164.0f, 118.0f / 164.0f, 116.0f / 164.0f, 114.0f / 164.0f, 112.0f / 164.0f, 110.0f / 164.0f, 112.0f / 164.0f, 114.0f / 164.0f, 116.0f / 164.0f, 118.0f / 164.0f, 109.0f / 164.0f, 107.0f / 164.0f, 105.0f / 164.0f, 103.0f / 164.0f, 101.0f / 164.0f, 103.0f / 164.0f, 105.0f / 164.0f, 107.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 98.0f / 164.0f, 96.0f / 164.0f, 94.0f / 164.0f, 92.0f / 164.0f, 94.0f / 164.0f, 96.0f / 164.0f, 98.0f / 164.0f, 100.0f / 164.0f, 91.0f / 164.0f, 89.0f / 164.0f, 87.0f / 164.0f, 85.0f / 164.0f, 83.0f / 164.0f, 85.0f / 164.0f, 87.0f / 164.0f, 89.0f / 164.0f, 91.0f / 164.0f},
    {91.0f / 164.0f, 89.0f / 164.0f, 87.0f / 164.0f, 85.0f / 164.0f, 83.0f / 164.0f, 85.0f / 164.0f, 87.0f / 164.0f, 89.0f / 164.0f, 91.0f / 164.0f, 100.0f / 164.0f, 98.0f / 164.0f, 96.0f / 164.0f, 94.0f / 164.0f, 92.0f / 164.0f, 94.0f / 164.0f, 96.0f / 164.0f, 98.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 107.0f / 164.0f, 105.0f / 164.0f, 103.0f / 164.0f, 101.0f / 164.0f, 103.0f / 164.0f, 105.0f / 164.0f, 107.0f / 164.0f, 109.0f / 164.0f, 118.0f / 164.0f, 116.0f / 164.0f, 114.0f / 164.0f, 112.0f / 164.0f, 110.0f / 164.0f, 112.0f / 164.0f, 114.0f / 164.0f, 116.0f / 164.0f, 118.0f / 164.0f, 127.0f / 164.0f, 125.0f / 164.0f, 123.0f / 164.0f, 121.0f / 164.0f, 119.0f / 164.0f, 121.0f / 164.0f, 123.0f / 164.0f, 125.0f / 164.0f, 127.0f / 164.0f, 136.0f / 164.0f, 134.0f / 164.0f, 132.0f / 164.0f, 130.0f / 164.0f, 128.0f / 164.0f, 130.0f / 164.0f, 132.0f / 164.0f, 134.0f / 164.0f, 136.0f / 164.0f, 145.0f / 164.0f, 143.0f / 164.0f, 141.0f / 164.0f, 139.0f / 164.0f, 137.0f / 164.0f, 139.0f / 164.0f, 141.0f / 164.0f, 143.0f / 164.0f, 145.0f / 164.0f, 154.0f / 164.0f, 152.0f / 164.0f, 150.0f / 164.0f, 148.0f / 164.0f, 146.0f / 164.0f, 148.0f / 164.0f, 150.0f / 164.0f, 152.0f / 164.0f, 154.0f / 164.0f, 163.0f / 164.0f, 161.0f / 164.0f, 159.0f / 164.0f, 157.0f / 164.0f, 155.0f / 164.0f, 157.0f / 164.0f, 159.0f / 164.0f, 161.0f / 164.0f, 163.0f / 164.0f},
    {163.0f / 164.0f, 154.0f / 164.0f, 145.0f / 164.0f, 136.0f / 164.0f, 127.0f / 164.0f, 118.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 91.0f / 164.0f, 162.0f / 164.0f, 153.0f / 164.0f, 144.0f / 164.0f, 135.0f / 164.0f, 126.0f / 164.0f, 117.0f / 164.0f, 108.0f / 164.0f, 99.0f / 164.0f, 90.0f / 164.0f, 161.0f / 164.0f, 152.0f / 164.0f, 143.0f / 164.0f, 134.0f / 164.0f, 125.0f / 164.0f, 116.0f / 164.0f, 107.0f / 164.0f, 98.0f / 164.0f, 89.0f / 164.0f, 160.0f / 164.0f, 151.0f / 164.0f, 142.0f / 164.0f, 133.0f / 164.0f, 124.0f / 164.0f, 115.0f / 164.0f, 106.0f / 164.0f, 97.0f / 164.0f, 88.0f / 164.0f, 159.0f / 164.0f, 150.0f / 164.0f, 141.0f / 164.0f, 132.0f / 164.0f, 123.0f / 164.0f, 114.0f / 164.0f, 105.0f / 164.0f, 96.0f / 164.0f, 87.0f / 164.0f, 158.0f / 164.0f, 149.0f / 164.0f, 140.0f / 164.0f, 131.0f / 164.0f, 122.0f / 164.0f, 113.0f / 164.0f, 104.0f / 164.0f, 95.0f / 164.0f, 86.0f / 164.0f, 157.0f / 164.0f, 148.0f / 164.0f, 139.0f / 164.0f, 130.0f / 164.0f, 121.0f / 164.0f, 112.0f / 164.0f, 103.0f / 164.0f, 94.0f / 164.0f, 85.0f / 164.0f, 156.0f / 164.0f, 147.0f / 164.0f, 138.0f / 164.0f, 129.0f / 164.0f, 120.0f / 164.0f, 111.0f / 164.0f, 102.0f / 164.0f, 93.0f / 164.0f, 84.0f / 164.0f, 155.0f / 164.0f, 146.0f / 164.0f, 137.0f / 164.0f, 128.0f / 164.0f, 119.0f / 164.0f, 110.0f / 164.0f, 101.0f / 164.0f, 92.0f / 164.0f, 83.0f / 164.0f},
    {155.0f / 164.0f, 146.0f / 164.0f, 137.0f / 164.0f, 128.0f / 164.0f, 119.0f / 164.0f, 110.0f / 164.0f, 101.0f / 164.0f, 92.0f / 164.0f, 83.0f / 164.0f, 156.0f / 164.0f, 147.0f / 164.0f, 138.0f / 164.0f, 129.0f / 164.0f, 120.0f / 164.0f, 111.0f / 164.0f, 102.0f / 164.0f, 93.0f / 164.0f, 84.0f / 164.0f, 157.0f / 164.0f, 148.0f / 164.0f, 139.0f / 164.0f, 130.0f / 164.0f, 121.0f / 164.0f, 112.0f / 164.0f, 103.0f / 164.0f, 94.0f / 164.0f, 85.0f / 164.0f, 158.0f / 164.0f, 149.0f / 164.0f, 140.0f / 164.0f, 131.0f / 164.0f, 122.0f / 164.0f, 113.0f / 164.0f, 104.0f / 164.0f, 95.0f / 164.0f, 86.0f / 164.0f, 159.0f / 164.0f, 150.0f / 164.0f, 141.0f / 164.0f, 132.0f / 164.0f, 123.0f / 164.0f, 114.0f / 164.0f, 105.0f / 164.0f, 96.0f / 164.0f, 87.0f / 164.0f, 160.0f / 164.0f, 151.0f / 164.0f, 142.0f / 164.0f, 133.0f / 164.0f, 124.0f / 164.0f, 115.0f / 164.0f, 106.0f / 164.0f, 97.0f / 164.0f, 88.0f / 164.0f, 161.0f / 164.0f, 152.0f / 164.0f, 143.0f / 164.0f, 134.0f / 164.0f, 125.0f / 164.0f, 116.0f / 164.0f, 107.0f / 164.0f, 98.0f / 164.0f, 89.0f / 164.0f, 162.0f / 164.0f, 153.0f / 164.0f, 144.0f / 164.0f, 135.0f / 164.0f, 126.0f / 164.0f, 117.0f / 164.0f, 108.0f / 164.0f, 99.0f / 164.0f, 90.0f / 164.0f, 163.0f / 164.0f, 154.0f / 164.0f, 145.0f / 164.0f, 136.0f / 164.0f, 127.0f / 164.0f, 118.0f / 164.0f, 109.0f / 164.0f, 100.0f / 164.0f, 91.0f / 164.0f},
    {91.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 118.0f / 164.0f, 127.0f / 164.0f, 136.0f / 164.0f, 145.0f / 164.0f, 154.0f / 164.0f, 163.0f / 164.0f, 90.0f / 164.0f, 99.0f / 164.0f, 108.0f / 164.0f, 117.0f / 164.0f, 126.0f / 164.0f, 135.0f / 164.0f, 144.0f / 164.0f, 153.0f / 164.0f, 162.0f / 164.0f, 89.0f / 164.0f, 98.0f / 164.0f, 107.0f / 164.0f, 116.0f / 164.0f, 125.0f / 164.0f, 134.0f / 164.0f, 143.0f / 164.0f, 152.0f / 164.0f, 161.0f / 164.0f, 88.0f / 164.0f, 97.0f / 164.0f, 106.0f / 164.0f, 115.0f / 164.0f, 124.0f / 164.0f, 133.0f / 164.0f, 142.0f / 164.0f, 151.0f / 164.0f, 160.0f / 164.0f, 87.0f / 164.0f, 96.0f / 164.0f, 105.0f / 164.0f, 114.0f / 164.0f, 123.0f / 164.0f, 132.0f / 164.0f, 141.0f / 164.0f, 150.0f / 164.0f, 159.0f / 164.0f, 86.0f / 164.0f, 95.0f / 164.0f, 104.0f / 164.0f, 113.0f / 164.0f, 122.0f / 164.0f, 131.0f / 164.0f, 140.0f / 164.0f, 149.0f / 164.0f, 158.0f / 164.0f, 85.0f / 164.0f, 94.0f / 164.0f, 103.0f / 164.0f, 112.0f / 164.0f, 121.0f / 164.0f, 130.0f / 164.0f, 139.0f / 164.0f, 148.0f / 164.0f, 157.0f / 164.0f, 84.0f / 164.0f, 93.0f / 164.0f, 102.0f / 164.0f, 111.0f / 164.0f, 120.0f / 164.0f, 129.0f / 164.0f, 138.0f / 164.0f, 147.0f / 164.0f, 156.0f / 164.0f, 83.0f / 164.0f, 92.0f / 164.0f, 101.0f / 164.0f, 110.0f / 164.0f, 119.0f / 164.0f, 128.0f / 164.0f, 137.0f / 164.0f, 146.0f / 164.0f, 155.0f / 164.0f},
    {83.0f / 164.0f, 92.0f / 164.0f, 101.0f / 164.0f, 110.0f / 164.0f, 119.0f / 164.0f, 128.0f / 164.0f, 137.0f / 164.0f, 146.0f / 164.0f, 155.0f / 164.0f, 84.0f / 164.0f, 93.0f / 164.0f, 102.0f / 164.0f, 111.0f / 164.0f, 120.0f / 164.0f, 129.0f / 164.0f, 138.0f / 164.0f, 147.0f / 164.0f, 156.0f / 164.0f, 85.0f / 164.0f, 94.0f / 164.0f, 103.0f / 164.0f, 112.0f / 164.0f, 121.0f / 164.0f, 130.0f / 164.0f, 139.0f / 164.0f, 148.0f / 164.0f, 157.0f / 164.0f, 86.0f / 164.0f, 95.0f / 164.0f, 104.0f / 164.0f, 113.0f / 164.0f, 122.0f / 164.0f, 131.0f / 164.0f, 140.0f / 164.0f, 149.0f / 164.0f, 158.0f / 164.0f, 87.0f / 164.0f, 96.0f / 164.0f, 105.0f / 164.0f, 114.0f / 164.0f, 123.0f / 164.0f, 132.0f / 164.0f, 141.0f / 164.0f, 150.0f / 164.0f, 159.0f / 164.0f, 88.0f / 164.0f, 97.0f / 164.0f, 106.0f / 164.0f, 115.0f / 164.0f, 124.0f / 164.0f, 133.0f / 164.0f, 142.0f / 164.0f, 151.0f / 164.0f, 160.0f / 164.0f, 89.0f / 164.0f, 98.0f / 164.0f, 107.0f / 164.0f, 116.0f / 164.0f, 125.0f / 164.0f, 134.0f / 164.0f, 143.0f / 164.0f, 152.0f / 164.0f, 161.0f / 164.0f, 90.0f / 164.0f, 99.0f / 164.0f, 108.0f / 164.0f, 117.0f / 164.0f, 126.0f / 164.0f, 135.0f / 164.0f, 144.0f / 164.0f, 153.0f / 164.0f, 162.0f / 164.0f, 91.0f / 164.0f, 100.0f / 164.0f, 109.0f / 164.0f, 118.0f / 164.0f, 127.0f / 164.0f, 136.0f / 164.0f, 145.0f / 164.0f, 154.0f / 164.0f, 163.0f / 164.0f},
    {163.0f / 164.0f, 162.0f / 164.0f, 161.0f / 164.0f, 160.0f / 164.0f, 159.0f / 164.0f, 158.0f / 164.0f, 157.0f / 164.0f, 156.0f / 164.0f, 155.0f / 164.0f, 154.0f / 164.0f, 153.0f / 164.0f, 152.0f / 164.0f, 151.0f / 164.0f, 150.0f / 164.0f, 149.0f / 164.0f, 148.0f / 164.0f, 147.0f / 164.0f, 146.0f / 164.0f, 145.0f / 164.0f, 144.0f / 164.0f, 143.0f / 164.0f, 142.0f / 164.0f, 141.0f / 164.0f, 140.0f / 164.0f, 139.0f / 164.0f, 138.0f / 164.0f, 137.0f / 164.0f, 136.0f / 164.0f, 135.0f / 164.0f, 134.0f / 164.0f, 133.0f / 164.0f, 132.0f / 164.0f, 131.0f / 164.0f, 130.0f / 164.0f, 129.0f / 164.0f, 128.0f / 164.0f, 127.0f / 164.0f, 126.0f / 164.0f, 125.0f / 164.0f, 124.0f / 164.0f, 123.0f / 164.0f, 122.0f / 164.0f, 121.0f / 164.0f, 120.0f / 164.0f, 119.0f / 164.0f, 118.0f / 164.0f, 117.0f / 164.0f, 116.0f / 164.0f, 115.0f / 164.0f, 114.0f / 164.0f, 113.0f / 164.0f, 112.0f / 164.0f, 111.0f / 164.0f, 110.0f / 164.0f, 109.0f / 164.0f, 108.0f / 164.0f, 107.0f / 164.0f, 106.0f / 164.0f, 105.0f / 164.0f, 104.0f / 164.0f, 103.0f / 164.0f, 102.0f / 164.0f, 101.0f / 164.0f, 100.0f / 164.0f, 99.0f / 164.0f, 98.0f / 164.0f, 97.0f / 164.0f, 96.0f / 164.0f, 95.0f / 164.0f, 94.0f / 164.0f, 93.0f / 164.0f, 92.0f / 164.0f, 91.0f / 164.0f, 90.0f / 164.0f, 89.0f / 164.0f, 88.0f / 164.0f, 87.0f / 164.0f, 86.0f / 164.0f, 85.0f / 164.0f, 84.0f / 164.0f, 83.0f / 164.0f},
    {155.0f / 164.0f, 156.0f / 164.0f, 157.0f / 164.0f, 158.0f / 164.0f, 159.0f / 164.0f, 160.0f / 164.0f, 161.0f / 164.0f, 162.0f / 164.0f, 163.0f / 164.0f, 146.0f / 164.0f, 147.0f / 164.0f, 148.0f / 164.0f, 149.0f / 164.0f, 150.0f / 164.0f, 151.0f / 164.0f, 152.0f / 164.0f, 153.0f / 164.0f, 154.0f / 164.0f, 137.0f / 164.0f, 138.0f / 164.0f, 139.0f / 164.0f, 140.0f / 164.0f, 141.0f / 164.0f, 142.0f / 164.0f, 143.0f / 164.0f, 144.0f / 164.0f, 145.0f / 164.0f, 128.0f / 164.0f, 129.0f / 164.0f, 130.0f / 164.0f, 131.0f / 164.0f, 132.0f / 164.0f, 133.0f / 164.0f, 134.0f / 164.0f, 135.0f / 164.0f, 136.0f / 164.0f, 119.0f / 164.0f, 120.0f / 164.0f, 121.0f / 164.0f, 122.0f / 164.0f, 123.0f / 164.0f, 124.0f / 164.0f, 125.0f / 164.0f, 126.0f / 164.0f, 127.0f / 164.0f, 110.0f / 164.0f, 111.0f / 164.0f, 112.0f / 164.0f, 113.0f / 164.0f, 114.0f / 164.0f, 115.0f / 164.0f, 116.0f / 164.0f, 117.0f / 164.0f, 118.0f / 164.0f, 101.0f / 164.0f, 102.0f / 164.0f, 103.0f / 164.0f, 104.0f / 164.0f, 105.0f / 164.0f, 106.0f / 164.0f, 107.0f / 164.0f, 108.0f / 164.0f, 109.0f / 164.0f, 92.0f / 164.0f, 93.0f / 164.0f, 94.0f / 164.0f, 95.0f / 164.0f, 96.0f / 164.0f, 97.0f / 164.0f, 98.0f / 164.0f, 99.0f / 164.0f, 100.0f / 164.0f, 83.0f / 164.0f, 84.0f / 164.0f, 85.0f / 164.0f, 86.0f / 164.0f, 87.0f / 164.0f, 88.0f / 164.0f, 89.0f / 164.0f, 90.0f / 164.0f, 91.0f / 164.0f},
    {91.0f / 164.0f, 90.0f / 164.0f, 89.0f / 164.0f, 88.0f / 164.0f, 87.0f / 164.0f, 86.0f / 164.0f, 85.0f / 164.0f, 84.0f / 164.0f, 83.0f / 164.0f, 100.0f / 164.0f, 99.0f / 164.0f, 98.0f / 164.0f, 97.0f / 164.0f, 96.0f / 164.0f, 95.0f / 164.0f, 94.0f / 164.0f, 93.0f / 164.0f, 92.0f / 164.0f, 109.0f / 164.0f, 108.0f / 164.0f, 107.0f / 164.0f, 106.0f / 164.0f, 105.0f / 164.0f, 104.0f / 164.0f, 103.0f / 164.0f, 102.0f / 164.0f, 101.0f / 164.0f, 118.0f / 164.0f, 117.0f / 164.0f, 116.0f / 164.0f, 115.0f / 164.0f, 114.0f / 164.0f, 113.0f / 164.0f, 112.0f / 164.0f, 111.0f / 164.0f, 110.0f / 164.0f, 127.0f / 164.0f, 126.0f / 164.0f, 125.0f / 164.0f, 124.0f / 164.0f, 123.0f / 164.0f, 122.0f / 164.0f, 121.0f / 164.0f, 120.0f / 164.0f, 119.0f / 164.0f, 136.0f / 164.0f, 135.0f / 164.0f, 134.0f / 164.0f, 133.0f / 164.0f, 132.0f / 164.0f, 131.0f / 164.0f, 130.0f / 164.0f, 129.0f / 164.0f, 128.0f / 164.0f, 145.0f / 164.0f, 144.0f / 164.0f, 143.0f / 164.0f, 142.0f / 164.0f, 141.0f / 164.0f, 140.0f / 164.0f, 139.0f / 164.0f, 138.0f / 164.0f, 137.0f / 164.0f, 154.0f / 164.0f, 153.0f / 164.0f, 152.0f / 164.0f, 151.0f / 164.0f, 150.0f / 164.0f, 149.0f / 164.0f, 148.0f / 164.0f, 147.0f / 164.0f, 146.0f / 164.0f, 163.0f / 164.0f, 162.0f / 164.0f, 161.0f / 164.0f, 160.0f / 164.0f, 159.0f / 164.0f, 158.0f / 164.0f, 157.0f / 164.0f, 156.0f / 164.0f, 155.0f / 164.0f},
    {83.0f / 164.0f, 84.0f / 164.0f, 85.0f / 164.0f, 86.0f / 164.0f, 87.0f / 164.0f, 88.0f / 164.0f, 89.0f / 164.0f, 90.0f / 164.0f, 91.0f / 164.0f, 92.0f / 164.0f, 93.0f / 164.0f, 94.0f / 164.0f, 95.0f / 164.0f, 96.0f / 164.0f, 97.0f / 164.0f, 98.0f / 164.0f, 99.0f / 164.0f, 100.0f / 164.0f, 101.0f / 164.0f, 102.0f / 164.0f, 103.0f / 164.0f, 104.0f / 164.0f, 105.0f / 164.0f, 106.0f / 164.0f, 107.0f / 164.0f, 108.0f / 164.0f, 109.0f / 164.0f, 110.0f / 164.0f, 111.0f / 164.0f, 112.0f / 164.0f, 113.0f / 164.0f, 114.0f / 164.0f, 115.0f / 164.0f, 116.0f / 164.0f, 117.0f / 164.0f, 118.0f / 164.0f, 119.0f / 164.0f, 120.0f / 164.0f, 121.0f / 164.0f, 122.0f / 164.0f, 123.0f / 164.0f, 124.0f / 164.0f, 125.0f / 164.0f, 126.0f / 164.0f, 127.0f / 164.0f, 128.0f / 164.0f, 129.0f / 164.0f, 130.0f / 164.0f, 131.0f / 164.0f, 132.0f / 164.0f, 133.0f / 164.0f, 134.0f / 164.0f, 135.0f / 164.0f, 136.0f / 164.0f, 137.0f / 164.0f, 138.0f / 164.0f, 139.0f / 164.0f, 140.0f / 164.0f, 141.0f / 164.0f, 142.0f / 164.0f, 143.0f / 164.0f, 144.0f / 164.0f, 145.0f / 164.0f, 146.0f / 164.0f, 147.0f / 164.0f, 148.0f / 164.0f, 149.0f / 164.0f, 150.0f / 164.0f, 151.0f / 164.0f, 152.0f / 164.0f, 153.0f / 164.0f, 154.0f / 164.0f, 155.0f / 164.0f, 156.0f / 164.0f, 157.0f / 164.0f, 158.0f / 164.0f, 159.0f / 164.0f, 160.0f / 164.0f, 161.0f / 164.0f, 162.0f / 164.0f, 163.0f / 164.0f}};
static constexpr float kDrawForbidden = 0.0;
static constexpr float kDrawUnavailable = 0.25;
static constexpr int kDrawFlag = 4;

void searchExperiment(int thread_id, int* search_thresholds, double* coefs_explore);

int parseX(char c);
int parseY(char c);
int parseTile(char c);
int parseZone(char c);

}  // namespace tinybot

#endif  // TINYBOT_CONSTANTS_H

/* record format
 *  0 offer
 *  1 placement
 *  2 offer
 *  3 placement
 *  4 offer
 *  5 placement
 *  6 offer
 *  7 placement
 *  8 offer
 *  9 placement
 * 10 offer
 * 11 placement
 * 12 offer
 * 13 placement
 * 14 offer
 * 15 placement
 * 16 offer
 * 17 placement
 * 18 * DRAWING *
 * 19 offer
 * 20 placement
 * 21 offer
 * 22 placement
 * 23 offer
 * 24 placement
 * 25 offer
 * 26 placement
 * 27 offer
 * 28 placement
 * 29 offer
 * 30 placement
 * 31 offer
 * 32 placement
 * 33 offer
 * 34 placement
 * 35 offer
 * 36 placement
 * 37 * DRAWING *
 * 38 offer
 * 39 placement
 * 40 offer
 * 41 placement
 * 42 offer
 * 43 placement
 * 44 offer
 * 45 placement
 * 46 offer
 * 47 placement
 * 48 offer
 * 49 placement
 * 50 offer
 * 51 placement
 * 52 offer
 * 53 placement
 * 54 * DRAWING *
 * 55-63 * SCORE *
 * 64 number of random placements made before thinking (rows to be skipped when outputting training data)
 */
